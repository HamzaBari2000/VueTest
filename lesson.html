<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta charset="utf-8" />
    <title>Coursework 1</title>
    <link rel="stylesheet" href="styles.css" />
  </head>

  <body>
    <div id="lessons">
      <div class="card" v-for="(lesson, index) in lessons">
        <div class="left">
          <img width="300" :src="lesson.img" />
        </div>
        <div class="right">
          <div class="product-info">
            <div class="product-name">
              <h1>{{ lesson.subject }}</h1>
            </div>
            <br />
            <div class="details">
              <li>{{ lesson.description }}</li>
              <h3>ðŸ¤‘ Â£{{ lesson.price }}</h3>
              <h4>{{ lesson.location }}</h4>
              <h4>Spaces left: {{ lesson.spaces }}</h4>
            </div>
            <br />
            <div class="treat-wrapper">
              <button
                class="btn draw-border"
                id="addToCart"
                v-on:click="reduce(index)"
              >
                Add To Cart
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>

  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
  <script>
    new Vue({
      el: "#lessons",
      data: {
        lessons: [
          {
            subject: "Computer Science",
            description:
              "This class is the best in the city! We offer anything you need ðŸ˜‰",
            location: "The Burroughs, Hendon, London NW4 4BT",
            price: 25,
            spaces: 30,
            img:
              "https://img.pngio.com/computer-science-department-international-technological-university-engineering-png-images-for-computer-500_500.png",
          },
        ],
      },
      methods: {
        reduce: function (index) {
          this.lessons[index].spaces--;
          if (this.lessons[index].spaces == 0) {
            document.getElementById("addToCart").disabled = true;
            document.getElementById("addToCart").innerHTML = "Not Available";
          }
        },
      },
    });
  </script>
</html>
